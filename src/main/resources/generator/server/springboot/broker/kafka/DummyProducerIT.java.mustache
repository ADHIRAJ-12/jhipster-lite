package {{packageName}}.dummy.infrastructure.secondary.kafka.producer;

import org.apache.kafka.clients.producer.RecordMetadata;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.ApplicationContext;
import {{packageName}}.IntegrationTest;

import java.util.concurrent.Future;

import static org.junit.jupiter.api.Assertions.assertNotNull;

@IntegrationTest
class DummyProducerIT {

  @Autowired
  private ApplicationContext applicationContext;

  private DummyProducer dummyProducer;

  @BeforeEach
  void setUp() {
    dummyProducer = (DummyProducer) applicationContext.getBean("dummyProducer");
  }

  @Test
  void shouldSend() {
    final Future<RecordMetadata> dummy = dummyProducer.send("dummy");

    assertNotNull(dummy);
  }
}
